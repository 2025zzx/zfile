import{m as I,d as J,c as u,r as C,w as S,o as X,a,f as h,p as V,u as i,n as r,B as Z,b as d,e as v,q as g,k as n,t as y,F,h as $,i as M,j as ee,a0 as ie,Y as te,aA as O}from"./index.b4965edf.js";import{b as le,B as U,d as ae,D as x,Q as E,aq as se,R as oe,u as ne,A as ce,P as re,q as he,I as de,o as ue,E as f,a0 as pe,_ as we,t as ve,w as fe}from"./base.dd187116.js";import{i as _e}from"./validator.3e583080.js";import{U as T,C as N,I as B}from"./event.776e7e11.js";const me=le({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:U,default:""},inactiveIcon:{type:U,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ae(Function)},size:{type:String,validator:_e},tabindex:{type:[String,Number]}}),be={[T]:o=>x(o)||I(o)||E(o),[N]:o=>x(o)||I(o)||E(o),[B]:o=>x(o)||I(o)||E(o)},ge=["onClick"],ye=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],xe=["aria-hidden"],ke=["aria-hidden"],Ie=["aria-hidden"],Ce=["aria-hidden"],Se={name:"ElSwitch"},Ve=J({...Se,props:me,emits:be,setup(o,{expose:K,emit:p}){const l=o,z="ElSwitch",j=ie(),{formItem:_}=se(),q=oe(),t=ne("switch");ce({from:'"value"',replacement:'"model-value" or "v-model"',scope:z,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},u(()=>{var e;return!!((e=j.vnode.props)!=null&&e.value)}));const{inputId:G}=re(l,{formItemContext:_}),m=he(u(()=>l.loading)),k=C(l.modelValue!==!1),w=C(),H=C(),L=u(()=>[t.b(),t.m(q.value),t.is("disabled",m.value),t.is("checked",s.value)]),Q=u(()=>({width:de(l.width)}));S(()=>l.modelValue,()=>{k.value=!0}),S(()=>l.value,()=>{k.value=!1});const P=u(()=>k.value?l.modelValue:l.value),s=u(()=>P.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(P.value)||(p(T,l.inactiveValue),p(N,l.inactiveValue),p(B,l.inactiveValue)),S(s,e=>{var c;w.value.checked=e,l.validateEvent&&((c=_==null?void 0:_.validate)==null||c.call(_,"change").catch(Y=>ue()))});const b=()=>{const e=s.value?l.inactiveValue:l.activeValue;p(T,e),p(N,e),p(B,e),te(()=>{w.value.checked=s.value})},D=()=>{if(m.value)return;const{beforeChange:e}=l;if(!e){b();return}const c=e();[O(c),x(c)].includes(!0)||ve(z,"beforeChange must return type `Promise<boolean>` or `boolean`"),O(c)?c.then(A=>{A&&b()}).catch(A=>{}):c&&b()},R=u(()=>t.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})),W=()=>{var e,c;(c=(e=w.value)==null?void 0:e.focus)==null||c.call(e)};return X(()=>{w.value.checked=s.value}),K({focus:W}),(e,c)=>(a(),h("div",{class:r(i(L)),style:M(i(R)),onClick:ee(D,["prevent"])},[V("input",{id:i(G),ref_key:"input",ref:w,class:r(i(t).e("input")),type:"checkbox",role:"switch","aria-checked":i(s),"aria-disabled":i(m),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:i(m),tabindex:e.tabindex,onChange:b,onKeydown:Z(D,["enter"])},null,42,ye),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(a(),h("span",{key:0,class:r([i(t).e("label"),i(t).em("label","left"),i(t).is("active",!i(s))])},[e.inactiveIcon?(a(),d(i(f),{key:0},{default:v(()=>[(a(),d(g(e.inactiveIcon)))]),_:1})):n("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),h("span",{key:1,"aria-hidden":i(s)},y(e.inactiveText),9,xe)):n("v-if",!0)],2)):n("v-if",!0),V("span",{ref_key:"core",ref:H,class:r(i(t).e("core")),style:M(i(Q))},[e.inlinePrompt?(a(),h("div",{key:0,class:r(i(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(a(),h(F,{key:0},[e.activeIcon?(a(),d(i(f),{key:0,class:r([i(t).is("icon"),i(s)?i(t).is("show"):i(t).is("hide")])},{default:v(()=>[(a(),d(g(e.activeIcon)))]),_:1},8,["class"])):n("v-if",!0),e.inactiveIcon?(a(),d(i(f),{key:1,class:r([i(t).is("icon"),i(s)?i(t).is("hide"):i(t).is("show")])},{default:v(()=>[(a(),d(g(e.inactiveIcon)))]),_:1},8,["class"])):n("v-if",!0)],64)):e.activeText||e.inactiveIcon?(a(),h(F,{key:1},[e.activeText?(a(),h("span",{key:0,class:r([i(t).is("text"),i(s)?i(t).is("show"):i(t).is("hide")]),"aria-hidden":!i(s)},y(e.activeText.substring(0,3)),11,ke)):n("v-if",!0),e.inactiveText?(a(),h("span",{key:1,class:r([i(t).is("text"),i(s)?i(t).is("hide"):i(t).is("show")]),"aria-hidden":i(s)},y(e.inactiveText.substring(0,3)),11,Ie)):n("v-if",!0)],64)):n("v-if",!0)],2)):n("v-if",!0),V("div",{class:r(i(t).e("action"))},[e.loading?(a(),d(i(f),{key:0,class:r(i(t).is("loading"))},{default:v(()=>[$(i(pe))]),_:1},8,["class"])):n("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(a(),h("span",{key:1,class:r([i(t).e("label"),i(t).em("label","right"),i(t).is("active",i(s))])},[e.activeIcon?(a(),d(i(f),{key:0},{default:v(()=>[(a(),d(g(e.activeIcon)))]),_:1})):n("v-if",!0),!e.activeIcon&&e.activeText?(a(),h("span",{key:1,"aria-hidden":!i(s)},y(e.activeText),9,Ce)):n("v-if",!0)],2)):n("v-if",!0)],14,ge))}});var Ee=we(Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Pe=fe(Ee);export{Pe as E};
