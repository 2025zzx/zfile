import"./base.cf6a8745.js";import{E as B}from"./image-viewer.b2008df8.js";import{_ as L,$ as R,c as g,V,a,f as o,u as i,F as z,y as b,k as p,bJ as $,r as D,i as E,h as G,n as u,p as y,t as c,Q as M,R as N}from"./index.b54e4b70.js";import{c as P}from"./common.2572007f.js";import{u as W,h as j}from"./useFileUpload.354cb7a9.js";import"./request.24874145.js";import"./index.f10a2ea5.js";import"./debounce.eea94d21.js";import"./index.2b507321.js";import"./event.776e7e11.js";import"./scroll.70de8d63.js";import"./index.5d1dc8b2.js";import"./index.4adfd442.js";import"./event.3ec63147.js";import"./focus-trap.ce2bb8d4.js";import"./validator.52b9062f.js";import"./directive.2815af57.js";const J={class:"zfile-gallery-body"},Q={key:0,class:"zfile-img-body"},T=["onClick"],Y={class:"zfile-gallery-img-text"},q={class:"zfile-gallery-img-text"},A={key:1},H={class:"zfile-gallery-img-text"},K={__name:"FileGallery",setup(O){$(l=>({"03e8b1ce":i(C),"5bf1da60":i(_),"0438fd04":i(w)}));let r=R(),v=W();const m=g(()=>{let l=v.filterFileByType("image"),t=D([]),f=r.zfileConfig.gallery.column,n=0;l.forEach((e,s)=>{s%f===0&&(s!==0&&n++,t.value[n]=[]),t.value[n].push(e)});function d(e){return e[0].map((s,S)=>e.map(F=>F[S]))}return d(t.value)});let h=V([]);const x=l=>{h.push(l.path[0].alt)};let w=g(()=>r.zfileConfig.gallery.rowSpacing+"px"),_=g(()=>{let l=r.zfileConfig.gallery.column,t=r.zfileConfig.gallery.columnSpacing;return`calc(${100}% - ${(l-1)*t/l}px)`}),C=g(()=>`${100/r.zfileConfig.gallery.column}%`);const{openImage:k}=j();return(l,t)=>{const f=B;return a(),o("div",J,[i(m).length>0?(a(),o("div",Q,[(a(!0),o(z,null,b(i(m),(n,d)=>(a(),o("div",{class:"zfile-img-row",key:d},[(a(!0),o(z,null,b(n,e=>(a(),o("div",{class:"zfile-img-col",onClick:s=>i(k)(e),style:E({display:i(r).zfileConfig.gallery.showInfoMode==="hover"?"flex":"block"})},[G(f,{class:u(["zfile-gallery-img",i(r).zfileConfig.gallery.roundedBorder?"zfile-gallery-img-rounded":""]),src:e==null?void 0:e.url,alt:e==null?void 0:e.name,loading:"lazy",lazy:"",onLoad:x,"scroll-container":".zfile-gallery-body"},null,8,["class","src","alt"]),i(r).zfileConfig.gallery.showInfo&&i(r).zfileConfig.gallery.showInfoMode==="hover"?(a(),o("div",{key:0,class:u([i(r).zfileConfig.gallery.roundedBorder?"zfile-gallery-img-rounded":"","zfile-gallery-img-hover-info"])},[y("span",Y,c(e==null?void 0:e.name),1),y("span",q,c(i(P).fileSizeFormat(e==null?void 0:e.size)),1)],2)):p("",!0),i(r).zfileConfig.gallery.showInfo&&i(r).zfileConfig.gallery.showInfoMode==="bottom"?M((a(),o("div",A,[y("span",H,c(e==null?void 0:e.name),1)],512)),[[N,i(h).includes(e==null?void 0:e.name)]]):p("",!0)],12,T))),256))]))),128))])):p("",!0)])}}};var ye=L(K,[["__scopeId","data-v-51eb9f09"]]);export{ye as default};
