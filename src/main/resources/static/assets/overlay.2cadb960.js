import{b as x,N as z,d as M,C as L,H as V,K as g,O as U,P as $,Q as q,R as B,B as Z}from"./base.76093c7f.js";import{U as D}from"./event.776e7e11.js";import{b as _}from"./index.1686b786.js";import{r as c,c as G,w as h,Y as H,o as K,a0 as Q}from"./index.ce603f74.js";const Y=x({center:{type:Boolean,default:!1},closeIcon:{type:z,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ee={close:()=>!0},oe=x({...Y,appendToBody:{type:Boolean,default:!1},beforeClose:{type:M(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),le={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[D]:e=>L(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},te=(e,a)=>{const l=Q().emit,{nextZIndex:m}=V();let p="";const I=g(),P=g(),t=c(!1),f=c(!1),u=c(!1),d=c(e.zIndex||m());let n,s;const O=U("namespace",q),T=G(()=>{const o={},i=`--${O.value}-dialog`;return e.fullscreen||(e.top&&(o[`${i}-margin-top`]=e.top),e.width&&(o[`${i}-width`]=$(e.width))),o});function E(){l("opened")}function F(){l("closed"),l(D,!1),e.destroyOnClose&&(u.value=!1)}function k(){l("close")}function C(){s==null||s(),n==null||n(),e.openDelay&&e.openDelay>0?{stop:n}=B(()=>b(),e.openDelay):b()}function r(){n==null||n(),s==null||s(),e.closeDelay&&e.closeDelay>0?{stop:s}=B(()=>v(),e.closeDelay):v()}function y(){function o(i){i||(f.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):r()}function w(){e.closeOnClickModal&&y()}function b(){!Z||(t.value=!0)}function v(){t.value=!1}function A(){l("openAutoFocus")}function N(){l("closeAutoFocus")}e.lockScroll&&_(t);function S(){e.closeOnPressEscape&&y()}return h(()=>e.modelValue,o=>{o?(f.value=!1,C(),u.value=!0,l("open"),d.value=e.zIndex?d.value++:m(),H(()=>{a.value&&(a.value.scrollTop=0)})):t.value&&r()}),h(()=>e.fullscreen,o=>{!a.value||(o?(p=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=p)}),K(()=>{e.modelValue&&(t.value=!0,u.value=!0,C())}),{afterEnter:E,afterLeave:F,beforeLeave:k,handleClose:y,onModalClick:w,close:r,doClose:v,onOpenAutoFocus:A,onCloseAutoFocus:N,onCloseRequested:S,titleId:I,bodyId:P,closed:f,style:T,rendered:u,visible:t,zIndex:d}};export{ee as a,oe as b,le as c,Y as d,te as u};
